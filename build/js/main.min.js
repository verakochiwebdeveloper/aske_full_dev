"use strict";

var nowTime = new Date(),
  date = nowTime.getDate(),
  month = nowTime.getMonth(),
  monthLast = nowTime.getMonth() - 1 == -1 ? 11 : nowTime.getMonth() - 1,
  monthNext = nowTime.getMonth() + 1 == 12 ? 0 : nowTime.getMonth() + 1,
  year = nowTime.getFullYear(),
  daysInMonth = new Date(year, month + 1, 0).getDate(),
  daysInMonthLast = new Date(year, month, 0).getDate(),
  daysInMonthBeforeLast = new Date(year, month, 0).getDate(),
  daysInMonthNext = new Date(year, month + 2, 0).getDate(),
  daysWeek0 = new Date("".concat(year, "-").concat(month + 1, "-1")).getDay(),
  daysWeek1 = new Date("".concat(year, "-").concat(month + 2, "-1")).getDay(),
  daysWeek2 = new Date("".concat(year, "-").concat(month, "-1")).getDay(),
  daysWeekCurrent = 0 == daysWeek0 ? 7 : daysWeek0,
  daysWeekNext = 0 == daysWeek1 ? 7 : daysWeek1,
  daysWeekLast = 0 == daysWeek2 ? 7 : daysWeek2,
  tableDate = document.querySelectorAll(".calendar_day"),
  calendar = document.querySelector(".calendar_days"),
  calendarMonth = document.querySelector(".calendar_month"),
  strelkaLast = document.querySelectorAll(".calendar_strelka")[0],
  strelkaNext = document.querySelectorAll(".calendar_strelka")[1],
  dataTitle = document.querySelector(".invent_title"),
  nameMonth = {
    0: "Января",
    1: "Февраля",
    2: "Марта",
    3: "Апреля",
    4: "Мая",
    5: "Июня",
    6: "Июля",
    7: "Августа",
    8: "Сентября",
    9: "Октября",
    10: "Ноября",
    11: "Декабаря"
  },
  nameMonthTitle = {
    0: "Январь",
    1: "Февраль",
    2: "Март",
    3: "Апрель",
    4: "Май",
    5: "Июнь",
    6: "Июль",
    7: "Август",
    8: "Сентябрь",
    9: "Октябрь",
    10: "Ноябрь",
    11: "Декабарь"
  };
var monthCount = 0;
var calendarFunc = function calendarFunc() {
  function e(e, t, n, o) {
    var d = 1,
      a = t + 2 - o,
      l = 1;
    for (var _t = 1; _t <= e.length; _t++) {
      var s = e[_t - 1];
      _t >= o && n >= d ? s.textContent = d++ : _t < o ? (s.textContent = a++, s.classList.add("othermonth")) : (s.textContent = l++, s.classList.add("othermonth"));
    }
  }
  function t(e) {
    calendarMonth.textContent = nameMonthTitle[e];
  }
  function n(e) {
    for (var _t2 = 0; _t2 < e.length; _t2++) {
      var _n = e[_t2];
      _n.textContent = "", _n.classList.remove("othermonth");
    }
    o(tableDate);
  }
  function o(e) {
    for (var _t3 = 0; _t3 < e.length; _t3++) {
      e[_t3].classList.remove("background_date");
    }
  }
  t(month), e(tableDate, daysInMonthLast, daysInMonth, daysWeekCurrent), strelkaLast.addEventListener("click", function () {
    n(tableDate), strelkaNext.classList.contains("display_none") ? (e(tableDate, daysInMonthLast, daysInMonth, daysWeekCurrent), strelkaNext.classList.remove("display_none"), t(month), monthCount--) : (e(tableDate, daysInMonthBeforeLast, daysInMonthLast, daysWeekLast), strelkaLast.classList.add("display_none"), t(monthLast), monthCount--);
  }), strelkaNext.addEventListener("click", function () {
    n(tableDate), strelkaLast.classList.contains("display_none") ? (e(tableDate, daysInMonthLast, daysInMonth, daysWeekCurrent), strelkaLast.classList.remove("display_none"), t(month), monthCount++) : (e(tableDate, daysInMonth, daysInMonthNext, daysWeekNext), strelkaNext.classList.add("display_none"), t(monthNext), monthCount++);
  }), calendar.addEventListener("mousedown", function (e) {
    var t = e.target.textContent;
    o(tableDate), !e.target.classList.contains("othermonth") && e.target.classList.contains("calendar_day") && (dataTitle.textContent = "".concat(t, " ").concat(nameMonth[month + monthCount]), e.target.classList.add("background_date"));
  }), dataTitle.textContent = "".concat(date, " ").concat(nameMonth[month]);
};
null != dataTitle && calendarFunc();
var buttonMenu = document.querySelector(".mini-header_burger"),
  headerlist = document.querySelector(".mini-header_list"),
  burgerImg = document.querySelectorAll(".mini-header_burger-img"),
  burgerImgChange = function burgerImgChange() {
    headerlist.classList.toggle("burger-visible"), burgerImg[0].classList.toggle("burger-active"), burgerImg[1].classList.toggle("burger-active");
  };
null != buttonMenu && buttonMenu.addEventListener("click", burgerImgChange);
var menuBtn = document.querySelector(".menu__burger"),
  menu = document.querySelector(".menu__list");
null != menuBtn && menuBtn.addEventListener("click", function () {
  menuBtn.classList.toggle("active"), menu.classList.toggle("active");
});
var info = document.querySelector(".info"),
  office = function office() {
    document.getElementById("open-modal-btn").addEventListener("click", function () {
      document.getElementById("my-modal").classList.add("open");
    }), document.getElementById("close-my-modal-btn").addEventListener("click", function () {
      document.getElementById("my-modal").classList.remove("open");
    }), window.addEventListener("keydown", function (e) {
      "Escape" === e.key && document.getElementById("my-modal").classList.remove("open");
    }), document.querySelector("#my-modal .modal__box").addEventListener("click", function (e) {
      e._isClickWithModal = !0;
    }), document.getElementById("my-modal").addEventListener("click", function (e) {
      e._isClickWithModal || e.currentTarget.classList.remove("open");
    }), document.getElementById("open-modal-btn-social-networks").addEventListener("click", function () {
      document.getElementById("my-modal-social-networks").classList.add("open");
    }), document.getElementById("close-my-modal-btn-social-networks").addEventListener("click", function () {
      document.getElementById("my-modal-social-networks").classList.remove("open");
    }), window.addEventListener("keydown", function (e) {
      "Escape" === e.key && document.getElementById("my-modal-social-networks").classList.remove("open");
    }), document.querySelector("#my-modal-social-networks .modal__box-social-networks").addEventListener("click", function (e) {
      e._isClickWithModal = !0;
    }), document.getElementById("my-modal-social-networks").addEventListener("click", function (e) {
      e._isClickWithModal || e.currentTarget.classList.remove("open");
    }), document.getElementById("open-modal-btn-add-performances").addEventListener("click", function () {
      document.getElementById("my-modal-add-performances").classList.add("open");
    }), document.getElementById("close-my-modal-btn-add-performances").addEventListener("click", function () {
      document.getElementById("my-modal-add-performances").classList.remove("open");
    }), window.addEventListener("keydown", function (e) {
      "Escape" === e.key && document.getElementById("my-modal-add-performances").classList.remove("open");
    }), document.querySelector("#my-modal-add-performances .modal__box-add-performances").addEventListener("click", function (e) {
      e._isClickWithModal = !0;
    }), document.getElementById("my-modal-add-performances").addEventListener("click", function (e) {
      e._isClickWithModal || e.currentTarget.classList.remove("open");
    }), document.getElementById("open-modal-btn-more-performances").addEventListener("click", function () {
      document.getElementById("my-modal-more-performances").classList.add("open");
    }), document.getElementById("close-my-modal-btn-more-performances").addEventListener("click", function () {
      document.getElementById("my-modal-more-performances").classList.remove("open");
    }), window.addEventListener("keydown", function (e) {
      "Escape" === e.key && document.getElementById("my-modal-more-performances").classList.remove("open");
    }), document.querySelector("#my-modal-more-performances .modal__box-more-performances").addEventListener("click", function (e) {
      e._isClickWithModal = !0;
    }), document.getElementById("my-modal-more-performances").addEventListener("click", function (e) {
      e._isClickWithModal || e.currentTarget.classList.remove("open");
    }), document.getElementById("open-modal-btn-download-photos").addEventListener("click", function () {
      document.getElementById("my-modal-download-photos").classList.add("open");
    }), document.getElementById("close-my-modal-btn-download-photos").addEventListener("click", function () {
      document.getElementById("my-modal-download-photos").classList.remove("open");
    }), window.addEventListener("keydown", function (e) {
      "Escape" === e.key && document.getElementById("my-modal-download-photos").classList.remove("open");
    }), document.querySelector("#my-modal-download-photos .modal__box-download-photos").addEventListener("click", function (e) {
      e._isClickWithModal = !0;
    }), document.getElementById("my-modal-download-photos").addEventListener("click", function (e) {
      e._isClickWithModal || e.currentTarget.classList.remove("open");
    });
  };
null != info && (document.getElementById("open-modal-btn").addEventListener("click", function () {
  document.getElementById("my-modal").classList.add("open");
}), document.getElementById("close-my-modal-btn").addEventListener("click", function () {
  document.getElementById("my-modal").classList.remove("open");
}), window.addEventListener("keydown", function (e) {
  "Escape" === e.key && document.getElementById("my-modal").classList.remove("open");
}), document.querySelector("#my-modal .modal__box").addEventListener("click", function (e) {
  e._isClickWithModal = !0;
}), document.getElementById("my-modal").addEventListener("click", function (e) {
  e._isClickWithModal || e.currentTarget.classList.remove("open");
}), document.getElementById("open-modal-btn-social-networks").addEventListener("click", function () {
  document.getElementById("my-modal-social-networks").classList.add("open");
}), document.getElementById("close-my-modal-btn-social-networks").addEventListener("click", function () {
  document.getElementById("my-modal-social-networks").classList.remove("open");
}), window.addEventListener("keydown", function (e) {
  "Escape" === e.key && document.getElementById("my-modal-social-networks").classList.remove("open");
}), document.querySelector("#my-modal-social-networks .modal__box-social-networks").addEventListener("click", function (e) {
  e._isClickWithModal = !0;
}), document.getElementById("my-modal-social-networks").addEventListener("click", function (e) {
  e._isClickWithModal || e.currentTarget.classList.remove("open");
}), document.getElementById("open-modal-btn-add-performances").addEventListener("click", function () {
  document.getElementById("my-modal-add-performances").classList.add("open");
}), document.getElementById("close-my-modal-btn-add-performances").addEventListener("click", function () {
  document.getElementById("my-modal-add-performances").classList.remove("open");
}), window.addEventListener("keydown", function (e) {
  "Escape" === e.key && document.getElementById("my-modal-add-performances").classList.remove("open");
}), document.querySelector("#my-modal-add-performances .modal__box-add-performances").addEventListener("click", function (e) {
  e._isClickWithModal = !0;
}), document.getElementById("my-modal-add-performances").addEventListener("click", function (e) {
  e._isClickWithModal || e.currentTarget.classList.remove("open");
}), document.getElementById("open-modal-btn-more-performances").addEventListener("click", function () {
  document.getElementById("my-modal-more-performances").classList.add("open");
}), document.getElementById("close-my-modal-btn-more-performances").addEventListener("click", function () {
  document.getElementById("my-modal-more-performances").classList.remove("open");
}), window.addEventListener("keydown", function (e) {
  "Escape" === e.key && document.getElementById("my-modal-more-performances").classList.remove("open");
}), document.querySelector("#my-modal-more-performances .modal__box-more-performances").addEventListener("click", function (e) {
  e._isClickWithModal = !0;
}), document.getElementById("my-modal-more-performances").addEventListener("click", function (e) {
  e._isClickWithModal || e.currentTarget.classList.remove("open");
}), document.getElementById("open-modal-btn-download-photos").addEventListener("click", function () {
  document.getElementById("my-modal-download-photos").classList.add("open");
}), document.getElementById("close-my-modal-btn-download-photos").addEventListener("click", function () {
  document.getElementById("my-modal-download-photos").classList.remove("open");
}), window.addEventListener("keydown", function (e) {
  "Escape" === e.key && document.getElementById("my-modal-download-photos").classList.remove("open");
}), document.querySelector("#my-modal-download-photos .modal__box-download-photos").addEventListener("click", function (e) {
  e._isClickWithModal = !0;
}), document.getElementById("my-modal-download-photos").addEventListener("click", function (e) {
  e._isClickWithModal || e.currentTarget.classList.remove("open");
}));